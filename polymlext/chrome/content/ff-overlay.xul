<?xml version="1.0" encoding="UTF-8"?>

<?xml-stylesheet href="chrome://polymlext/skin/style.css" type="text/css"?>

<overlay id="polymlext-overlay"
		 xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
	
	<script src="core/PolyMLext.js" />
	<script src="core/components/DebugConsole.js" />
	<script src="core/components/ConsoleUI.js" />
	<script src="core/components/BrowserUI.js" />
	<script src="core/components/JSFFI.js" />
	<script src="core/components/Poly.js" />
	<script src="core/components/Console.js" />

	<script type="application/javascript">
		window.addEventListener("load", PolyMLext.init, false);
	</script>
	
	<popupset id="mainPopupSet">
		<menupopup id="polymlext-contextmenu" position="after_end">
			<menuitem id="polymlext-button-start" label="Start PolyML"
					tooltiptext="Start PolyML process for this page" />
			<menuitem id="polymlext-button-stop" label="Stop PolyML"
					tooltiptext="Stop PolyML process for this page" hidden="true" />
			<menuseparator />
			<menuitem id="polymlext-button-console-show" label="Show Console"
					tooltiptext="Show the interactive PolyML console" disabled="true" />
			<menuitem id="polymlext-button-console-hide" label="Hide Console"
					tooltiptext="Hide the interactive PolyML console" hidden="true" />
			<menuseparator />
			<menuitem id="polymlext-button-alwaysEnable" label="Always Enable"
					tooltiptext="Execute PolyML applications without explicit permission" />
			<menuseparator />
			<menuitem id="polymlext-button-demos" label="Demos"
					tooltiptext="Demonstrations of PolyMLext features" />
			<menuitem id="polymlext-button-docs" label="Docs" />
			<menuitem id="polymlext-button-settings" label="Settings" />
		</menupopup>
	</popupset>

	<statusbar id="status-bar">
		<label id="polymlext-status"
				value=""
				tooltiptext="This page contains PolyML code"
				context="" />
		<label id="polymlext-click-to-enable"
			   value="Click to run PolyML app"
			   tooltiptext="Clicking will activate the PolyML application found on this page"
			   context=""
			   hidden="true" />			   
		<statusbarpanel id="polymlext-icon" hidden="false"
				class="statusbarpanel-iconic"
				tooltiptext="Click to open PolyML console, right-click for a context menu"
				src="chrome://polymlext/skin/polyml_16x16_gray.png"
				context="polymlext-contextmenu" />
		<statusbarpanel id="polymlext-icon-nopoly" hidden="true"
				class="statusbarpanel-iconic"
				tooltiptext="PolyML was not found on this computer (Click for more info)"
				src="chrome://polymlext/skin/polyml_16x16_gray_no_poly.png"
				context="" />
	</statusbar>
	
	<vbox id="appcontent">
		<splitter id="polymlext-console-splitter" collapsed="false" />
		<vbox id="polymlext-console-box" collapsed="true" persist="height" >
				<hbox>
					<label id="polymlext-console-title"	value="PolyML Console" />
					<spacer flex="1" />
					<hbox id="polymlext-console-buttons" role="toolbar">
                        <toolbarbutton id="polymlext-console-button-min"
                            tooltiptext="Minimize The Console" />
                    </hbox>
				</hbox>
				<iframe id="polymlext-console-logarea" flex="1" src="chrome://polymlext/content/logarea.html" />
				<hbox id="polymlext-console-commandline-box" hidden="true" style="border:none">
					<textbox id="polymlext-console-commandline-input" flex="1"
						label="console command line"
						aria-autocomplete="inline" />
				</hbox>
		</vbox>
	</vbox>
</overlay>

